# –ü–ª–∞–Ω: –°–ø—Ä–∏–Ω—Ç D2 - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

## –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∏ —Ñ–∞–π–ª—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–æ—Ç–æ–≤—ã—Ö Docker –æ–±—Ä–∞–∑–æ–≤ –∏–∑ ghcr.io.

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ D1:**
- Docker –æ–±—Ä–∞–∑—ã –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –≤ ghcr.io/nvalkg (bot, api, frontend)
- –û–±—Ä–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø—É–±–ª–∏—á–Ω–æ (docker login –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- `docker-compose.registry.yml` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ä–≤–µ—Ä–∞:**
- IP: 83.147.246.172
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: systech
- SSH –∫–ª—é—á: `systech_admin_key.txt` (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
- –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/opt/systech/nvalkg`
- –ü–æ—Ä—Ç—ã: API - 8005, Frontend - 3005
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- PostgreSQL (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- Bot (Telegram –±–æ—Ç)
- API (FastAPI, –ø–æ—Ä—Ç 8005)
- Frontend (Next.js, –ø–æ—Ä—Ç 3005)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
devops/
‚îú‚îÄ‚îÄ docker-compose.prod.yml      # –Ω–æ–≤—ã–π - production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.production.example      # –Ω–æ–≤—ã–π - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ doc/
    ‚îú‚îÄ‚îÄ guides/
    ‚îÇ   ‚îî‚îÄ‚îÄ manual-deploy.md     # –Ω–æ–≤—ã–π - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
    ‚îú‚îÄ‚îÄ plans/
    ‚îÇ   ‚îî‚îÄ‚îÄ d2-manual-deploy.md  # –Ω–æ–≤—ã–π - —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç
    ‚îî‚îÄ‚îÄ devops-roadmap.md        # –æ–±–Ω–æ–≤–∏—Ç—å - —Å—Ç–∞—Ç—É—Å D2
```

## –®–∞–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –°–æ–∑–¥–∞—Ç—å docker-compose.prod.yml

–§–∞–π–ª: `devops/docker-compose.prod.yml`

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ docker-compose.registry.yml:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤ –∏–∑ `ghcr.io/nvalkg` (–ø—É–±–ª–∏—á–Ω—ã–µ)
- –ü–æ—Ä—Ç—ã: API - 8005, Frontend - 3005
- PostgreSQL –ø–æ—Ä—Ç: 5432 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π, –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ expose)
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è NEXT_PUBLIC_API_URL –¥–ª—è Frontend: `http://83.147.246.172:8005`
- env_file: `.env` (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –±—É–¥–µ—Ç `.env.production`)
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å `restart: unless-stopped`
- –£–¥–∞–ª–∏—Ç—å `container_name` –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏
- Volume –¥–ª—è PostgreSQL: `postgres_data_prod`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```yaml
services:
  postgres:
    image: postgres:16-alpine
    restart: unless-stopped
    environment: ...
    volumes:
      - postgres_data_prod:/var/lib/postgresql/data
    healthcheck: ...

  bot:
    image: ghcr.io/nvalkg/aidd-bot:latest
    restart: unless-stopped
    depends_on: postgres (healthy)
    env_file: .env

  api:
    image: ghcr.io/nvalkg/aidd-api:latest
    restart: unless-stopped
    depends_on: postgres (healthy)
    ports: "8005:8000"
    env_file: .env

  frontend:
    image: ghcr.io/nvalkg/aidd-frontend:latest
    restart: unless-stopped
    depends_on: api
    ports: "3005:3000"
    environment:
      NEXT_PUBLIC_API_URL: http://83.147.246.172:8005

volumes:
  postgres_data_prod:
```

### 2. –°–æ–∑–¥–∞—Ç—å .env.production.example

–§–∞–π–ª: `devops/.env.production.example`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
```bash
# =============================================================================
# Production Environment Variables –¥–ª—è AIDD Bot
# =============================================================================
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .env.production –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –≤ .env –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º docker-compose

# -----------------------------------------------------------------------------
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–±–µ–∑ –Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è)
# -----------------------------------------------------------------------------

# –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# API –∫–ª—é—á –¥–ª—è OpenRouter (https://openrouter.ai/)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# -----------------------------------------------------------------------------
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
# -----------------------------------------------------------------------------

# URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î (—Ñ–æ—Ä–º–∞—Ç: postgresql+asyncpg://user:password@host:port/database)
# ‚ö†Ô∏è –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤ production!
DATABASE_URL=postgresql+asyncpg://aidd:CHANGE_THIS_PASSWORD@postgres:5432/aidd

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ë–î (–¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å docker-compose.prod.yml)
POSTGRES_USER=aidd
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD
POSTGRES_DB=aidd

# -----------------------------------------------------------------------------
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ LLM –º–æ–¥–µ–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ, –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
# -----------------------------------------------------------------------------

# –ú–æ–¥–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ø—Ä–∏–º–µ—Ä—ã: openai/gpt-3.5-turbo, anthropic/claude-3-haiku)
DEFAULT_MODEL=openai/gpt-3.5-turbo

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ (1-4096)
MAX_TOKENS=1000

# Temperature –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (0.0-2.0, –º–µ–Ω—å—à–µ = –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ)
TEMPERATURE=0.7

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–∞ (1-50)
MAX_HISTORY_MESSAGES=10

# -----------------------------------------------------------------------------
# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
# -----------------------------------------------------------------------------

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
# -----------------------------------------------------------------------------

# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω, –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ —Ñ–∞–π–ª–∞, –∏–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SYSTEM_PROMPT
SYSTEM_PROMPT_FILE=/app/prompts/system_prompt.txt

# –¢–µ–∫—Å—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ SYSTEM_PROMPT_FILE –Ω–µ —É–∫–∞–∑–∞–Ω)
SYSTEM_PROMPT=You are a helpful AI assistant.
```

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.**

### 3. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é manual-deploy.md

–§–∞–π–ª: `devops/doc/guides/manual-deploy.md`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**

#### –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –ù–∞–∑–≤–∞–Ω–∏–µ: "–†—É—á–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ"
- –¶–µ–ª—å, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, —á—Ç–æ –±—É–¥–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ

#### –†–∞–∑–¥–µ–ª 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–æ–≤: `docker-compose.prod.yml`, `.env.production.example`, `systech_admin_key.txt`
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ `.env.production` –Ω–∞ –æ—Å–Ω–æ–≤–µ example
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ SSH –∫–ª—é—á–∞ (chmod 600 –Ω–∞ Linux/Mac)

#### –†–∞–∑–¥–µ–ª 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- –ö–æ–º–∞–Ω–¥–∞ SSH —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª—é—á–∞:
  ```bash
  ssh -i systech_admin_key.txt systech@83.147.246.172
  ```
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π Docker –∏ Docker Compose
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/opt/systech/nvalkg`

#### –†–∞–∑–¥–µ–ª 3: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `docker-compose.prod.yml`:
  ```bash
  scp -i systech_admin_key.txt devops/docker-compose.prod.yml systech@83.147.246.172:/opt/systech/nvalkg/
  ```
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `.env.production` –∫–∞–∫ `.env`:
  ```bash
  scp -i systech_admin_key.txt devops/.env.production systech@83.147.246.172:/opt/systech/nvalkg/.env
  ```
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø—Ä–æ–º–ø—Ç–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):
  ```bash
  scp -i systech_admin_key.txt prompts/system_prompt.txt systech@83.147.246.172:/opt/systech/nvalkg/
  ```

#### –†–∞–∑–¥–µ–ª 4: –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∑–∞–ø—É—Å–∫
- –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- Pull –æ–±—Ä–∞–∑–æ–≤:
  ```bash
  docker-compose -f docker-compose.prod.yml pull
  ```
- –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:
  ```bash
  docker-compose -f docker-compose.prod.yml up -d
  ```

#### –†–∞–∑–¥–µ–ª 5: –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ (—á–µ—Ä–µ–∑ entrypoint.sh)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –±–æ—Ç–∞ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
  ```bash
  docker-compose -f docker-compose.prod.yml logs bot
  ```

#### –†–∞–∑–¥–µ–ª 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
  ```bash
  docker-compose -f docker-compose.prod.yml ps
  ```
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ healthcheck PostgreSQL
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API: `curl http://83.147.246.172:8005/health`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ Frontend –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://83.147.246.172:3005`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞ –≤ Telegram

#### –†–∞–∑–¥–µ–ª 7: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤: `docker-compose logs -f [service]`
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞: `docker-compose down`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: `docker-compose restart [service]`
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤: `docker-compose pull && docker-compose up -d`

#### –†–∞–∑–¥–µ–ª 8: Troubleshooting
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç–µ–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º

#### –†–∞–∑–¥–µ–ª 9: Backup –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ backup PostgreSQL
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

### 4. –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞ d2-manual-deploy.md

–§–∞–π–ª: `devops/doc/plans/d2-manual-deploy.md`

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- –ö–æ–ø–∏—è —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞
- –ö–æ–Ω—Ç–µ–∫—Å—Ç (—á—Ç–æ –±—ã–ª–æ –≤ D0, D1)
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 5. –û–±–Ω–æ–≤–∏—Ç—å devops-roadmap.md

–§–∞–π–ª: `devops/doc/devops-roadmap.md`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å D2 —Å "üìã Planned" –Ω–∞ "‚úÖ Completed"
- –î–æ–±–∞–≤–∏—Ç—å –¥–∞—Ç—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–ª–∞–Ω: `[–ü–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞](plans/d2-manual-deploy.md)`
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–°–ø—Ä–∏–Ω—Ç D2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä" —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ
- –°–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ `.env` —Ñ–∞–π–ª–µ
- SSH –∫–ª—é—á —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ (600)
- –°–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –ë–î –≤ production

**–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:**
- –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Å `restart: unless-stopped`
- Healthcheck –¥–ª—è PostgreSQL
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ (depends_on)

**–ü—Ä–æ—Å—Ç–æ—Ç–∞:**
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≥–æ—Ç–æ–≤—ã –∫ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—é
- –ß–µ—Ç–∫–∏–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –°–µ–∫—Ü–∏—è troubleshooting –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:**
- –í—Å–µ —à–∞–≥–∏ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤ D3
- –ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ .env

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã:

1. ‚úÖ `devops/docker-compose.prod.yml` - production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
2. ‚úÖ `devops/.env.production.example` - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. ‚úÖ `devops/doc/guides/manual-deploy.md` - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
4. ‚úÖ `devops/doc/plans/d2-manual-deploy.md` - –ø–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞
5. ‚úÖ `devops/doc/devops-roadmap.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å—Ç–∞—Ç—É—Å D2

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ–Ω—è—Ç–Ω–∞ –∏ –ø–æ—à–∞–≥–æ–≤–∞
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å
- .env —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- docker-compose.prod.yml –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è production
- Roadmap –æ–±–Ω–æ–≤–ª–µ–Ω

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- –í D3 –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ GitHub Actions


