# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç: –°–ø—Ä–∏–Ω—Ç D0 - Basic Docker Setup

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 18 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
**–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ~4 —á–∞—Å–∞ (–≤–∫–ª—é—á–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## –¶–µ–ª—å —Å–ø—Ä–∏–Ω—Ç–∞

–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–µ–∫—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ docker-compose –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è onboarding –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. Docker –æ–±—Ä–∞–∑—ã (3 —à—Ç.)

#### Dockerfile.bot
- **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑:** python:3.11-slim
- **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤:** UV
- **–†–∞–∑–º–µ—Ä:** ~180MB
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** Single-stage build, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ entrypoint.sh

#### Dockerfile.api
- **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑:** python:3.11-slim
- **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤:** UV
- **–†–∞–∑–º–µ—Ä:** ~180MB
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** Single-stage build, Uvicorn —Å–µ—Ä–≤–µ—Ä, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

#### Dockerfile.frontend
- **–ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑:** node:20-slim
- **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤:** pnpm
- **–†–∞–∑–º–µ—Ä:** ~500MB
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** Production build, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ Next.js

### 2. Docker Compose

**–§–∞–π–ª:** `devops/docker-compose.yml`

**–°–µ—Ä–≤–∏—Å—ã:**
- PostgreSQL 16 Alpine (—Å healthcheck)
- Bot (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç PostgreSQL)
- API (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç PostgreSQL)
- Frontend (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç API)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ `depends_on`
- Healthcheck –¥–ª—è PostgreSQL
- –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ë–î
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ .env —Ñ–∞–π–ª–∞

### 3. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

- **entrypoint.sh** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- **.dockerignore** (3 —à—Ç.) - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è build context
- **.env** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **.env.example** - —à–∞–±–ª–æ–Ω —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (7 —Ñ–∞–π–ª–æ–≤)

- `devops/README.md` - –æ–±–∑–æ—Ä DevOps –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `devops/doc/guides/docker-quickstart.md` - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- `devops/doc/plans/d0-basic-docker-setup.md` - –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- `devops/doc/d0-completion-report.md` - –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
- `devops/doc/reports/d0-testing-report.md` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `devops/doc/reports/d0-summary.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `devops/TESTING.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `devops/SPRINT-D0-SUMMARY.md` - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
- `devops/FILES-CREATED.md` - —Å–ø–∏—Å–æ–∫ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä–Ω–µ–≤–æ–π `README.md`

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç: [d0-testing-report.md](d0-testing-report.md)

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

‚úÖ –í—Å–µ 4 —Å–µ—Ä–≤–∏—Å–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:

| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç | –í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ |
|--------|--------|------|---------------|
| PostgreSQL | ‚úÖ Healthy | 5433 | ~10 —Å–µ–∫ |
| Bot | ‚úÖ Running | - | ~12 —Å–µ–∫ |
| API | ‚úÖ Running | 8000 | ~12 —Å–µ–∫ |
| Frontend | ‚úÖ Running | 3000 | ~1 —Å–µ–∫ |

### Smoke Tests

- ‚úÖ API Health Check: `{"status":"ok"}`
- ‚úÖ Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Bot –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ PostgreSQL
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í—Å–µ –ª–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### –ú–µ—Ç—Ä–∏–∫–∏

- **–í—Ä–µ–º—è –ø–µ—Ä–≤–æ–π —Å–±–æ—Ä–∫–∏:** ~3-5 –º–∏–Ω—É—Ç
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞:** ~15 —Å–µ–∫—É–Ω–¥
- **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤:** ~1.1GB —Å—É–º–º–∞—Ä–Ω–æ
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ RAM:** ~800MB
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ CPU:** ~5-10% (idle)

## –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### 1. MVP –ø–æ–¥—Ö–æ–¥ - Single-stage builds

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ single-stage Dockerfiles –≤–º–µ—Å—Ç–æ multi-stage builds.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–º–µ–Ω—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)
- ‚úÖ –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚ùå –ë–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø—Ä–∏–Ω—Ç–∞—Ö)

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ entrypoint.sh

**–†–µ—à–µ–Ω–∏–µ:** –ú–∏–≥—Ä–∞—Ü–∏–∏ Alembic –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é
- ‚úÖ –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
- ‚úÖ –ü—Ä–æ—â–µ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–ö–æ–¥:**
```bash
sleep 10  # –û–∂–∏–¥–∞–Ω–∏–µ PostgreSQL
.venv/bin/alembic upgrade head  # –ú–∏–≥—Ä–∞—Ü–∏–∏
export PATH="/app/.venv/bin:$PATH"  # –ê–∫—Ç–∏–≤–∞—Ü–∏—è venv
exec "$@"  # –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ .venv/bin –Ω–∞–ø—Ä—è–º—É—é

**–ü—Ä–æ–±–ª–µ–º–∞:** `uv run` –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª –º–æ–¥—É–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `.venv/bin/python` –∏ `.venv/bin/uvicorn` –Ω–∞–ø—Ä—è–º—É—é.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º —Å –ø—É—Ç—è–º–∏.

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –≤—Å–µ Docker —Ñ–∞–π–ª—ã –≤ devops/

**–†–µ—à–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ–π Docker –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ `devops/`.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
devops/
‚îú‚îÄ‚îÄ Dockerfile.bot
‚îú‚îÄ‚îÄ Dockerfile.api
‚îú‚îÄ‚îÄ Dockerfile.frontend
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ entrypoint.sh
‚îú‚îÄ‚îÄ .dockerignore.*
‚îî‚îÄ‚îÄ doc/
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ concerns
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ DevOps —Ñ–∞–π–ª—ã
- ‚úÖ –ù–µ –∑–∞—Ö–ª–∞–º–ª—è–µ—Ç –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

## –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ —Ä–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. node_modules –≤ build context (Frontend)

**–ü—Ä–æ–±–ª–µ–º–∞:** 400+MB node_modules –∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ Docker build context.

**–†–µ—à–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–∏–ª–∏ Dockerfile - –∫–æ–ø–∏—Ä—É–µ–º —Ñ–∞–π–ª—ã –≤—ã–±–æ—Ä–æ—á–Ω–æ:
```dockerfile
COPY frontend/app/src ./src
COPY frontend/app/public ./public
COPY frontend/app/*.json ./
# –í–º–µ—Å—Ç–æ COPY frontend/app/ ./
```

### 2. TypeScript –æ—à–∏–±–∫–∞ –≤ MatrixBackground

**–ü—Ä–æ–±–ª–µ–º–∞:** `Type error: Object is possibly 'undefined'`

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏–ª–∏ null coalescing:
```typescript
const dropY = drops[i] ?? 0;
```

### 3. .env –Ω–µ —á–∏—Ç–∞–ª—Å—è Docker Compose

**–ü—Ä–æ–±–ª–µ–º–∞:** Docker Compose –∏—â–µ—Ç .env –≤ —Ç–æ–π –∂–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ docker-compose.yml.

**–†–µ—à–µ–Ω–∏–µ:** –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ `.env` –≤ `devops/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.

### 4. UV run –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª –º–æ–¥—É–ª–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** `ModuleNotFoundError` –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `uv run`.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `.venv/bin/` –Ω–∞–ø—Ä—è–º—É—é –≤–º–µ—Å—Ç–æ `uv run`.

### 5. –£—Å—Ç–∞—Ä–µ–≤—à–∏–π version –≤ docker-compose.yml

**–ü—Ä–æ–±–ª–µ–º–∞:** Warning: `version` attribute is obsolete.

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏–ª–∏ `version: '3.8'` –∏–∑ docker-compose.yml.

## Lessons Learned

### –ß—Ç–æ —Å—Ä–∞–±–æ—Ç–∞–ª–æ —Ö–æ—Ä–æ—à–æ ‚úÖ

1. **MVP –ø–æ–¥—Ö–æ–¥** - Simple single-stage builds –ø–æ–∑–≤–æ–ª–∏–ª–∏ –±—ã—Å—Ç—Ä–æ –¥–æ—Å—Ç–∏—á—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏** - –£–ø—Ä–æ—Å—Ç–∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—Å–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –í—Å–µ DevOps —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
4. **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ù–æ–≤—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –∑–∞ 5 –º–∏–Ω—É—Ç
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - Smoke tests –≤—ã—è–≤–∏–ª–∏ –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞

### –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å üîÑ

1. **–†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤** - Multi-stage builds —Å–æ–∫—Ä–∞—Ç—è—Ç —Ä–∞–∑–º–µ—Ä –Ω–∞ 40-50%
2. **–í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
3. **Health checks** - –î–æ–±–∞–≤–∏—Ç—å –¥–ª—è bot, api, frontend (–Ω–µ —Ç–æ–ª—å–∫–æ postgres)
4. **Resource limits** - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CPU –∏ memory limits
5. **Secrets** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker secrets –≤–º–µ—Å—Ç–æ .env –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

### –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è üí°

1. **UV –≤ Docker** - –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ, –Ω–æ `uv run` –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏
2. **Next.js build** - –ó–∞–Ω–∏–º–∞–µ—Ç ~30 —Å–µ–∫, –æ—Å–Ω–æ–≤–Ω–æ–µ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
3. **PostgreSQL healthcheck** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –∑–∞–ø—É—Å–∫–∞
4. **Entrypoint pattern** - –û—á–µ–Ω—å –≥–∏–±–∫–∏–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤

- **Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 8 —Ñ–∞–π–ª–æ–≤
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 9 —Ñ–∞–π–ª–æ–≤
- **–í—Å–µ–≥–æ:** 17 —Ñ–∞–π–ª–æ–≤
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞/–∫–æ–Ω—Ñ–∏–≥–∞:** ~1600

### –ö–æ–º–º–∏—Ç—ã

- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: 1 –∫–æ–º–º–∏—Ç (—Ä–æ–∞–¥–º–∞–ø, –ø–ª–∞–Ω)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è: 1 –∫–æ–º–º–∏—Ç (–≤—Å–µ Docker —Ñ–∞–π–ª—ã)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: 3 –∫–æ–º–º–∏—Ç–∞ (–±–∞–≥–∏ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏)
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 1 –∫–æ–º–º–∏—Ç (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –≠—Ç–∞–ø | –í—Ä–µ–º—è |
|------|-------|
| –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ | ~30 –º–∏–Ω—É—Ç |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | ~1.5 —á–∞—Å–∞ |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ~1 —á–∞—Å |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ~1 —á–∞—Å |
| **–ò—Ç–æ–≥–æ** | **~4 —á–∞—Å–∞** |

## –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏

### –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å: ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç–∞

**–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π**

```bash
cd devops
docker-compose up
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ 4 —Å–µ—Ä–≤–∏—Å–∞ (PostgreSQL, Bot, API, Frontend) –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ø—Ä–∏–Ω—Ç—É

## –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

–î–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd systech-aidd-test

# 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env
cp .env.example .env
# –î–æ–±–∞–≤—å—Ç–µ TELEGRAM_BOT_TOKEN –∏ OPENROUTER_API_KEY

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ
cd devops
docker-compose up

# 4. –ì–æ—Ç–æ–≤–æ!
# Frontend: http://localhost:3000
# API: http://localhost:8000
# Bot: –≤ Telegram
```

## Next Steps - –°–ø—Ä–∏–Ω—Ç D1: Build & Publish

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É:

**–¶–µ–ª—å D1:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–æ–≤ –≤ GitHub Container Registry.

**–ó–∞–¥–∞—á–∏:**
- GitHub Actions workflow –¥–ª—è —Å–±–æ—Ä–∫–∏ (.github/workflows/build.yml)
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ ghcr.io —Å —Ç–µ–≥–∞–º–∏ (latest + version)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ push –≤ main
- Badges —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∫–∏ –≤ README

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ 100%
- –í—Å–µ Dockerfiles —Ä–∞–±–æ—Ç–∞—é—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-compose up` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤:** `docker-compose build --no-cache` –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
4. **–õ–æ–≥–∏:** `docker-compose logs -f <service>` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### –î–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ø—Ä–∏–Ω—Ç–æ–≤

1. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –ø—Ä–æ—Å—Ç–æ—Ç—É** - MVP –ø–æ–¥—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ** - CI/CD –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ä–∞–∑—É** - –ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ –ø–æ—Ç–æ–º
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ** - –ù–µ –∂–¥–∏—Ç–µ –∫–æ–Ω—Ü–∞ —Å–ø—Ä–∏–Ω—Ç–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–ø—Ä–∏–Ω—Ç D0 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω. –ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥—Ä–æ–±–Ω–∞—è, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ.

**–ì–æ—Ç–æ–≤—ã –∫ –°–ø—Ä–∏–Ω—Ç—É D1!** üöÄ

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** AI Assistant
**–î–∞—Ç–∞:** 18 –æ–∫—Ç—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 1.0

**–°—Å—ã–ª–∫–∏:**
- [–ü–ª–∞–Ω —Å–ø—Ä–∏–Ω—Ç–∞](../plans/d0-basic-docker-setup.md)
- [–û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏](d0-testing-report.md)
- [Docker Quickstart](../guides/docker-quickstart.md)
- [DevOps Roadmap](../devops-roadmap.md)
